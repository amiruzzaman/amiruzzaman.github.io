<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment Grading Rubric</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            max-width: 800px;
        }
        .rubric {
            border-collapse: collapse;
            width: 100%;
        }
        .rubric th, .rubric td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .rubric th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        .score {
            text-align: center;
            width: 80px;
        }
        .total-score {
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 20px;
        }
        .comments {
            width: 100%;
            padding: 5px;
        }
        #feedbackSection {
            margin-top: 20px;
        }
    </style>
</head>
<body>

<h2>Assignment Grading Rubric</h2>

<table class="rubric">
    <tr>
        <th>Criteria</th>
        <th>Description</th>
        <th>Score</th>
        <th>Comments</th>
    </tr>

    <!-- Existing Criteria -->
    <tr>
        <td>Dataset Source</td>
        <td>Includes the source of the dataset, properly cited or referenced.</td>
        <td class="score">
            <select onchange="updateComment('sourceScore', 'sourceComments'); calculateTotal();" id="sourceScore">
                <option value="0">0 - Missing</option>
                <option value="0.5">0.5 - Incomplete</option>
                <option value="1">1 - Complete</option>
            </select>
        </td>
        <td><input type="text" class="comments" id="sourceComments" readonly></td>
    </tr>
    <tr>
        <td>Dataset Size</td>
        <td>Describes the size of the dataset (e.g., number of records or files).</td>
        <td class="score">
            <select onchange="updateComment('sizeScore', 'sizeComments'); calculateTotal();" id="sizeScore">
                <option value="0">0 - Missing</option>
                <option value="0.5">0.5 - Incomplete</option>
                <option value="1">1 - Complete</option>
            </select>
        </td>
        <td><input type="text" class="comments" id="sizeComments" readonly></td>
    </tr>
    <tr>
        <td>Data Type</td>
        <td>Specifies types of data included (e.g., numerical, text, categorical).</td>
        <td class="score">
            <select onchange="updateComment('typeScore', 'typeComments'); calculateTotal();" id="typeScore">
                <option value="0">0 - Missing</option>
                <option value="0.5">0.5 - Incomplete</option>
                <option value="1">1 - Complete</option>
            </select>
        </td>
        <td><input type="text" class="comments" id="typeComments" readonly></td>
    </tr>
    <tr>
        <td>Dataset Description</td>
        <td>Provides a detailed description of the dataset contents.</td>
        <td class="score">
            <select onchange="updateComment('descriptionScore', 'descriptionComments'); calculateTotal();" id="descriptionScore">
                <option value="0">0 - Missing</option>
                <option value="0.5">0.5 - Incomplete</option>
                <option value="1">1 - Complete</option>
            </select>
        </td>
        <td><input type="text" class="comments" id="descriptionComments" readonly></td>
    </tr>
    <tr>
        <td>Problem Clarity</td>
        <td>Clearly defines the problem to be explored.</td>
        <td class="score">
            <select onchange="updateComment('clarityScore', 'clarityComments'); calculateTotal();" id="clarityScore">
                <option value="0">0 - Missing</option>
                <option value="0.5">0.5 - Incomplete</option>
                <option value="1">1 - Complete</option>
            </select>
        </td>
        <td><input type="text" class="comments" id="clarityComments" readonly></td>
    </tr>
    <tr>
        <td>Problem Importance</td>
        <td>Explains the significance or relevance of the problem.</td>
        <td class="score">
            <select onchange="updateComment('importanceScore', 'importanceComments'); calculateTotal();" id="importanceScore">
                <option value="0">0 - Missing</option>
                <option value="0.5">0.5 - Incomplete</option>
                <option value="1">1 - Complete</option>
            </select>
        </td>
        <td><input type="text" class="comments" id="importanceComments" readonly></td>
    </tr>
    <tr>
        <td>Research Questions</td>
        <td>Lists questions that will be answered through analysis.</td>
        <td class="score">
            <select onchange="updateComment('questionsScore', 'questionsComments'); calculateTotal();" id="questionsScore">
                <option value="0">0 - Missing</option>
                <option value="0.5">0.5 - Incomplete</option>
                <option value="1">1 - Complete</option>
            </select>
        </td>
        <td><input type="text" class="comments" id="questionsComments" readonly></td>
    </tr>

    <!-- New Criteria -->
    <tr>
        <td>Data Collection Method</td>
        <td>Describes how the data was collected.</td>
        <td class="score">
            <select onchange="updateComment('collectionScore', 'collectionComments'); calculateTotal();" id="collectionScore">
                <option value="0">0 - Missing</option>
                <option value="0.5">0.5 - Incomplete</option>
                <option value="1">1 - Complete</option>
            </select>
        </td>
        <td><input type="text" class="comments" id="collectionComments" readonly></td>
    </tr>
    <tr>
        <td>Data Limitations</td>
        <td>Mentions any limitations or biases in the data.</td>
        <td class="score">
            <select onchange="updateComment('limitationsScore', 'limitationsComments'); calculateTotal();" id="limitationsScore">
                <option value="0">0 - Missing</option>
                <option value="0.5">0.5 - Incomplete</option>
                <option value="1">1 - Complete</option>
            </select>
        </td>
        <td><input type="text" class="comments" id="limitationsComments" readonly></td>
    </tr>
    <tr>
        <td>Analysis Methodology</td>
        <td>Outlines the methodology for analyzing the data.</td>
        <td class="score">
            <select onchange="updateComment('methodologyScore', 'methodologyComments'); calculateTotal();" id="methodologyScore">
                <option value="0">0 - Missing</option>
                <option value="0.5">0.5 - Incomplete</option>
                <option value="1">1 - Complete</option>
            </select>
        </td>
        <td><input type="text" class="comments" id="methodologyComments" readonly></td>
    </tr>

</table>

<div class="total-score">Total Score: <span id="totalScore">0</span>/10</div>

<!-- Feedback Section -->
<div id="feedbackSection">
    <button onclick="generateFeedback()">Generate Feedback</button>
    <h3>Feedback Summary:</h3>
    <p id="feedbackText"></p>
</div>

<script>
    function calculateTotal() {
        const scores = [
            parseFloat(document.getElementById("sourceScore").value),
            parseFloat(document.getElementById("sizeScore").value),
            parseFloat(document.getElementById("typeScore").value),
            parseFloat(document.getElementById("descriptionScore").value),
            parseFloat(document.getElementById("clarityScore").value),
            parseFloat(document.getElementById("importanceScore").value),
            parseFloat(document.getElementById("questionsScore").value),
            parseFloat(document.getElementById("collectionScore").value),
            parseFloat(document.getElementById("limitationsScore").value),
            parseFloat(document.getElementById("methodologyScore").value)
        ];

        const totalScore = scores.reduce((acc, curr) => acc + curr, 0);
        document.getElementById("totalScore").innerText = totalScore.toFixed(1);
    }

    function updateComment(scoreId, commentId) {
        const score = document.getElementById(scoreId).value;
        let comment = "";

        switch(score) {
            case "1":
                comment = "Well done, this criterion is fully met.";
                break;
            case "0.5":
                comment = "This criterion is partially complete; some improvements are needed.";
                break;
            case "0":
                comment = "This criterion is missing and needs attention.";
                break;
        }

        document.getElementById(commentId).value = comment;
    }

    function generateFeedback() {
        const criteria = [
            "Dataset Source", "Dataset Size", "Data Type", "Dataset Description", 
            "Problem Clarity", "Problem Importance", "Research Questions", 
            "Data Collection Method", "Data Limitations", "Analysis Methodology"
        ];
        const scores = [
            document.getElementById("sourceScore").value,
            document.getElementById("sizeScore").value,
            document.getElementById("typeScore").value,
            document.getElementById("descriptionScore").value,
            document.getElementById("clarityScore").value,
            document.getElementById("importanceScore").value,
            document.getElementById("questionsScore").value,
            document.getElementById("collectionScore").value,
            document.getElementById("limitationsScore").value,
            document.getElementById("methodologyScore").value
        ];
        const comments = [
            document.getElementById("sourceComments").value,
            document.getElementById("sizeComments").value,
            document.getElementById("typeComments").value,
            document.getElementById("descriptionComments").value,
            document.getElementById("clarityComments").value,
            document.getElementById("importanceComments").value,
            document.getElementById("questionsComments").value,
            document.getElementById("collectionComments").value,
            document.getElementById("limitationsComments").value,
            document.getElementById("methodologyComments").value
        ];

        const feedback = criteria.map((criterion, index) => `${criterion}: Score = ${scores[index]}, Comment = "${comments[index]}"`).join("\n");
        document.getElementById("feedbackText").innerText = feedback;
    }
</script>

</body>
</html>
